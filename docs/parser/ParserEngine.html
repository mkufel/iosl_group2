<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.3) on Sun Jul 21 11:54:43 EEST 2019 -->
<title>ParserEngine</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2019-07-21">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
<script type="text/javascript" src="../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ParserEngine";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":9,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">parser</a></div>
<h2 title="Class ParserEngine" class="title">Class ParserEngine</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>parser.ParserEngine</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">ParserEngine</span>
extends java.lang.Object</pre>
<div class="block">Parses input files and converts them to the formats used in the project.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#routeIdsToLineNames">routeIdsToLineNames</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;<a href="../common/Station.html" title="class in common">Station</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#routesToStations">routesToStations</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;java.lang.String&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#routesToTrips">routesToTrips</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.util.Map&lt;<a href="../common/Station.html" title="class in common">Station</a>,&#8203;java.util.ArrayList&lt;java.lang.Long&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#stationsToDuplicateIds">stationsToDuplicateIds</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.util.Map&lt;java.lang.Long,&#8203;java.util.ArrayList&lt;<a href="../common/ScheduleItem.html" title="class in common">ScheduleItem</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#stopsToScheduleItems">stopsToScheduleItems</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;<a href="../common/Station.html" title="class in common">Station</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tripsToStations">tripsToStations</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">ParserEngine</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;<a href="../common/Station.html" title="class in common">Station</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addStationCoordsToRouteStationsMapping(java.util.Map,java.lang.String)">addStationCoordsToRouteStationsMapping</a></span>&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;<a href="../common/Station.html" title="class in common">Station</a>&gt;&gt;&nbsp;routesToStations,
                                      java.lang.String&nbsp;fileName)</code></th>
<td class="colLast">
<div class="block">Parses stops.csv and extends the mapping routeId - List<Station> with GeoCoordinates of each station.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private <a href="../common/Map.html" title="class in common">Map</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createMap(java.util.Map,java.util.Map)">createMap</a></span>&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;<a href="../common/Station.html" title="class in common">Station</a>&gt;&gt;&nbsp;routeIdsToStations,
         java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;routeIdsToLineNames)</code></th>
<td class="colLast">
<div class="block">Creates a List of lines based on the mapping routesIdsToStations, extracts names of U-bahn lines based on
 their identifier and creates a Line for each U-bahn line.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../common/Map.html" title="class in common">Map</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createMapFromBVGFiles()">createMapFromBVGFiles</a></span>()</code></th>
<td class="colLast">
<div class="block">Creates a common.Map - a set of Ubahn lines (id, name, List<Station>) based on the data from mappings
 routes - trips, trips - stations, routeId - routeName</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private static &lt;T&gt;&nbsp;java.util.function.Predicate&lt;T&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#distinctByKey(java.util.function.Function)">distinctByKey</a></span>&#8203;(java.util.function.Function&lt;? super T,&#8203;?&gt;&nbsp;keyExtractor)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private java.util.Map&lt;<a href="../common/Station.html" title="class in common">Station</a>,&#8203;java.util.ArrayList&lt;java.lang.Long&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDuplicatesStopsFromCSV()">getDuplicatesStopsFromCSV</a></span>()</code></th>
<td class="colLast">
<div class="block">Parses stops.csv and creates a mapping of Station - List<duplicateStationId> for stations with the same geo location.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLineNameFromTripId(java.lang.String,java.util.Map,java.util.Map)">getLineNameFromTripId</a></span>&#8203;(java.lang.String&nbsp;tripId,
                     java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;java.lang.String&gt;&gt;&nbsp;routeIdsToTrips,
                     java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;routesIdsToLineNames)</code></th>
<td class="colLast">
<div class="block">Returns a name of an U-bahn line that serves a given trip</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private java.util.ArrayList&lt;java.lang.Long&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getListOfPossibleNextStops(java.lang.Long)">getListOfPossibleNextStops</a></span>&#8203;(java.lang.Long&nbsp;stopId)</code></th>
<td class="colLast">
<div class="block">Returns a List<stopId> of stops adjacent (directly preceeding and suceeding) to stopId.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.Long,&#8203;java.util.ArrayList&lt;<a href="../common/ScheduleItem.html" title="class in common">ScheduleItem</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getStopsWithSchedule()">getStopsWithSchedule</a></span>()</code></th>
<td class="colLast">
<div class="block">If mapping routeIdsToLineNames doesn't exist, parses routes.csv and creates the mapping route Ids to Line names
 If mapping routesToTrips doesn't exist, parses routes.csv and creates the mapping route Ids to Trip ids
 Creates a mapping of stopIds to a list of their ScheduleItems (all trains leaving from the station)</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../common/Station.html" title="class in common">Station</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getUBahnStations()">getUBahnStations</a></span>()</code></th>
<td class="colLast">
<div class="block">From mappings routes - trips and trips - stations, create a mapping routes - stations.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;<a href="../common/Station.html" title="class in common">Station</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#mapRoutesToStations(java.util.Map,java.util.Map)">mapRoutesToStations</a></span>&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;java.lang.String&gt;&gt;&nbsp;routesToTrips_dict,
                   java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;<a href="../common/Station.html" title="class in common">Station</a>&gt;&gt;&nbsp;tripsToStations_dict)</code></th>
<td class="colLast">
<div class="block">Creates a mapping routeId - List<stationId> based on the mappings routeId - List<tripId> and tripId - List<stationId></div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;java.lang.String&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#mapRoutesToTripsFromCSV(java.util.Map,java.lang.String)">mapRoutesToTripsFromCSV</a></span>&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;routeIdToLineName,
                       java.lang.String&nbsp;fileName)</code></th>
<td class="colLast">
<div class="block">Parses the trips.csv and creates a mapping of routeId - List<tripId></div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.Long,&#8203;java.util.ArrayList&lt;<a href="../common/ScheduleItem.html" title="class in common">ScheduleItem</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#mapStopsToScheduleItems(java.lang.String,java.util.Map,java.util.Map)">mapStopsToScheduleItems</a></span>&#8203;(java.lang.String&nbsp;fileName,
                       java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;java.lang.String&gt;&gt;&nbsp;routeIdsToTripIds,
                       java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;routesIdsToLineNames)</code></th>
<td class="colLast">
<div class="block">Parses stop_times.csv and for each of the stops creates a List<ScheduleItem> representing trains leaving from
 the station throughout the day.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;<a href="../common/Station.html" title="class in common">Station</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#parseStationTimesFromCSV(java.lang.String)">parseStationTimesFromCSV</a></span>&#8203;(java.lang.String&nbsp;fileName)</code></th>
<td class="colLast">
<div class="block">Parse stop_times.csv and creates a mapping tripId - ArrayList<stationId></div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readRoutesFromCSV(java.lang.String)">readRoutesFromCSV</a></span>&#8203;(java.lang.String&nbsp;fileName)</code></th>
<td class="colLast">
<div class="block">Parses the routes.csv file and creates a mapping of routeId - routeName</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;<a href="../common/Station.html" title="class in common">Station</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeDuplicatesFromRoutesToStations(java.util.Map)">removeDuplicatesFromRoutesToStations</a></span>&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;<a href="../common/Station.html" title="class in common">Station</a>&gt;&gt;&nbsp;routesToStationsWithDuplicates)</code></th>
<td class="colLast">
<div class="block">Changes Ids of duplicate stations to corrected fixed Ids for given stations.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.Long,&#8203;java.util.ArrayList&lt;<a href="../common/ScheduleItem.html" title="class in common">ScheduleItem</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeInvalidScheduleItems(java.util.Map)">removeInvalidScheduleItems</a></span>&#8203;(java.util.Map&lt;java.lang.Long,&#8203;java.util.ArrayList&lt;<a href="../common/ScheduleItem.html" title="class in common">ScheduleItem</a>&gt;&gt;&nbsp;stopsToScheduleItems)</code></th>
<td class="colLast">
<div class="block">Removes Schedule items that lead to non-adjacent stations (not directly preceeding and directly suceeding) a given station.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.Long,&#8203;java.util.ArrayList&lt;<a href="../common/ScheduleItem.html" title="class in common">ScheduleItem</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateStopsToScheduleItemsMap(java.util.Map,java.lang.String%5B%5D,java.lang.String%5B%5D,java.lang.String)">updateStopsToScheduleItemsMap</a></span>&#8203;(java.util.Map&lt;java.lang.Long,&#8203;java.util.ArrayList&lt;<a href="../common/ScheduleItem.html" title="class in common">ScheduleItem</a>&gt;&gt;&nbsp;stopsToScheduleItems,
                             java.lang.String[]&nbsp;nextRecord,
                             java.lang.String[]&nbsp;nextNextRecord,
                             java.lang.String&nbsp;lineName)</code></th>
<td class="colLast">
<div class="block">Checks if nextRecord and nextNextRecord are on the same trip and if so then it creates a new schedule item
 for a stop from nextRecord to a stop from nextNextRecord.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="routeIdsToLineNames">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>routeIdsToLineNames</h4>
<pre>java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt; routeIdsToLineNames</pre>
</li>
</ul>
<a id="routesToTrips">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>routesToTrips</h4>
<pre>java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;java.lang.String&gt;&gt; routesToTrips</pre>
</li>
</ul>
<a id="stopsToScheduleItems">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopsToScheduleItems</h4>
<pre>java.util.Map&lt;java.lang.Long,&#8203;java.util.ArrayList&lt;<a href="../common/ScheduleItem.html" title="class in common">ScheduleItem</a>&gt;&gt; stopsToScheduleItems</pre>
</li>
</ul>
<a id="routesToStations">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>routesToStations</h4>
<pre>java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;<a href="../common/Station.html" title="class in common">Station</a>&gt;&gt; routesToStations</pre>
</li>
</ul>
<a id="tripsToStations">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tripsToStations</h4>
<pre>java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;<a href="../common/Station.html" title="class in common">Station</a>&gt;&gt; tripsToStations</pre>
</li>
</ul>
<a id="stationsToDuplicateIds">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>stationsToDuplicateIds</h4>
<pre>java.util.Map&lt;<a href="../common/Station.html" title="class in common">Station</a>,&#8203;java.util.ArrayList&lt;java.lang.Long&gt;&gt; stationsToDuplicateIds</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ParserEngine</h4>
<pre>public&nbsp;ParserEngine()</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getStopsWithSchedule()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStopsWithSchedule</h4>
<pre class="methodSignature">public&nbsp;java.util.Map&lt;java.lang.Long,&#8203;java.util.ArrayList&lt;<a href="../common/ScheduleItem.html" title="class in common">ScheduleItem</a>&gt;&gt;&nbsp;getStopsWithSchedule()</pre>
<div class="block">If mapping routeIdsToLineNames doesn't exist, parses routes.csv and creates the mapping route Ids to Line names
 If mapping routesToTrips doesn't exist, parses routes.csv and creates the mapping route Ids to Trip ids
 Creates a mapping of stopIds to a list of their ScheduleItems (all trains leaving from the station)</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Mapping stopId - ArrayList<ScheduleItem></dd>
</dl>
</li>
</ul>
<a id="getUBahnStations()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUBahnStations</h4>
<pre class="methodSignature">public&nbsp;java.util.ArrayList&lt;<a href="../common/Station.html" title="class in common">Station</a>&gt;&nbsp;getUBahnStations()</pre>
<div class="block">From mappings routes - trips and trips - stations, create a mapping routes - stations.
 Then use the mapping of routeId - routeName to extract line names.
 Finally, create a list of all Stations (line names used as parameters).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List of Stations</dd>
</dl>
</li>
</ul>
<a id="createMapFromBVGFiles()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createMapFromBVGFiles</h4>
<pre class="methodSignature">public&nbsp;<a href="../common/Map.html" title="class in common">Map</a>&nbsp;createMapFromBVGFiles()</pre>
<div class="block">Creates a common.Map - a set of Ubahn lines (id, name, List<Station>) based on the data from mappings
 routes - trips, trips - stations, routeId - routeName</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>common.Map containing all Ubahn lines contained in the csv input files</dd>
</dl>
</li>
</ul>
<a id="removeDuplicatesFromRoutesToStations(java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeDuplicatesFromRoutesToStations</h4>
<pre class="methodSignature">private&nbsp;java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;<a href="../common/Station.html" title="class in common">Station</a>&gt;&gt;&nbsp;removeDuplicatesFromRoutesToStations&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;<a href="../common/Station.html" title="class in common">Station</a>&gt;&gt;&nbsp;routesToStationsWithDuplicates)</pre>
<div class="block">Changes Ids of duplicate stations to corrected fixed Ids for given stations. Removes duplicate stations for each line.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>routesToStationsWithDuplicates</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>routesToStationsWithoutDuplicates</dd>
</dl>
</li>
</ul>
<a id="distinctByKey(java.util.function.Function)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>distinctByKey</h4>
<pre class="methodSignature">private static&nbsp;&lt;T&gt;&nbsp;java.util.function.Predicate&lt;T&gt;&nbsp;distinctByKey&#8203;(java.util.function.Function&lt;? super T,&#8203;?&gt;&nbsp;keyExtractor)</pre>
</li>
</ul>
<a id="readRoutesFromCSV(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readRoutesFromCSV</h4>
<pre class="methodSignature">private&nbsp;java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;readRoutesFromCSV&#8203;(java.lang.String&nbsp;fileName)</pre>
<div class="block">Parses the routes.csv file and creates a mapping of routeId - routeName</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileName</code> - input file "routes.csv"</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Mapping routeId -> UbahnLineName</dd>
</dl>
</li>
</ul>
<a id="mapRoutesToTripsFromCSV(java.util.Map,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mapRoutesToTripsFromCSV</h4>
<pre class="methodSignature">private&nbsp;java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;java.lang.String&gt;&gt;&nbsp;mapRoutesToTripsFromCSV&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;routeIdToLineName,
                                                                                                            java.lang.String&nbsp;fileName)</pre>
<div class="block">Parses the trips.csv and creates a mapping of routeId - List<tripId></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>routeIdToLineName</code> - Dictionary routeId -> UbahnLineName</dd>
<dd><code>fileName</code> - path to trips.csv</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Hashmap, key:routeId, value: ArrayList<tripId></dd>
</dl>
</li>
</ul>
<a id="parseStationTimesFromCSV(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parseStationTimesFromCSV</h4>
<pre class="methodSignature">private&nbsp;java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;<a href="../common/Station.html" title="class in common">Station</a>&gt;&gt;&nbsp;parseStationTimesFromCSV&#8203;(java.lang.String&nbsp;fileName)</pre>
<div class="block">Parse stop_times.csv and creates a mapping tripId - ArrayList<stationId></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileName</code> - path to stop_times.csv</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>mapping tripId - ArrayList<stationId></dd>
</dl>
</li>
</ul>
<a id="mapRoutesToStations(java.util.Map,java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mapRoutesToStations</h4>
<pre class="methodSignature">private&nbsp;java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;<a href="../common/Station.html" title="class in common">Station</a>&gt;&gt;&nbsp;mapRoutesToStations&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;java.lang.String&gt;&gt;&nbsp;routesToTrips_dict,
                                                                                               java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;<a href="../common/Station.html" title="class in common">Station</a>&gt;&gt;&nbsp;tripsToStations_dict)</pre>
<div class="block">Creates a mapping routeId - List<stationId> based on the mappings routeId - List<tripId> and tripId - List<stationId></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>routesToTrips_dict</code> - mapping routeId - List<tripId></dd>
<dd><code>tripsToStations_dict</code> - mapping tripId - List<stationId></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>mapping routeId - List<stationId></dd>
</dl>
</li>
</ul>
<a id="addStationCoordsToRouteStationsMapping(java.util.Map,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addStationCoordsToRouteStationsMapping</h4>
<pre class="methodSignature">private&nbsp;java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;<a href="../common/Station.html" title="class in common">Station</a>&gt;&gt;&nbsp;addStationCoordsToRouteStationsMapping&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;<a href="../common/Station.html" title="class in common">Station</a>&gt;&gt;&nbsp;routesToStations,
                                                                                                                  java.lang.String&nbsp;fileName)</pre>
<div class="block">Parses stops.csv and extends the mapping routeId - List<Station> with GeoCoordinates of each station.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>routesToStations</code> - mapping of routeId - List<stationId></dd>
<dd><code>fileName</code> - path to stops.csv</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>mapping of routeId - List<Station></dd>
</dl>
</li>
</ul>
<a id="createMap(java.util.Map,java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createMap</h4>
<pre class="methodSignature">private&nbsp;<a href="../common/Map.html" title="class in common">Map</a>&nbsp;createMap&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;<a href="../common/Station.html" title="class in common">Station</a>&gt;&gt;&nbsp;routeIdsToStations,
                      java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;routeIdsToLineNames)</pre>
<div class="block">Creates a List of lines based on the mapping routesIdsToStations, extracts names of U-bahn lines based on
 their identifier and creates a Line for each U-bahn line. Then adds all lines to a Map and returns it.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>routeIdsToStations</code> - Mapping of routeIds to StationIds</dd>
<dd><code>routeIdsToLineNames</code> - Mapping of routeIds to route names</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Map object containing all U-bahn lines.</dd>
</dl>
</li>
</ul>
<a id="mapStopsToScheduleItems(java.lang.String,java.util.Map,java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mapStopsToScheduleItems</h4>
<pre class="methodSignature">private&nbsp;java.util.Map&lt;java.lang.Long,&#8203;java.util.ArrayList&lt;<a href="../common/ScheduleItem.html" title="class in common">ScheduleItem</a>&gt;&gt;&nbsp;mapStopsToScheduleItems&#8203;(java.lang.String&nbsp;fileName,
                                                                                                      java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;java.lang.String&gt;&gt;&nbsp;routeIdsToTripIds,
                                                                                                      java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;routesIdsToLineNames)</pre>
<div class="block">Parses stop_times.csv and for each of the stops creates a List<ScheduleItem> representing trains leaving from
 the station throughout the day.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileName</code> - path to stop_times.csv</dd>
<dd><code>routeIdsToTripIds</code> - </dd>
<dd><code>routesIdsToLineNames</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Map<Long:       stopId   ,       ArrayList   <   ScheduleItem>> for each of the stations from stop_times.csv</dd>
</dl>
</li>
</ul>
<a id="updateStopsToScheduleItemsMap(java.util.Map,java.lang.String[],java.lang.String[],java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateStopsToScheduleItemsMap</h4>
<pre class="methodSignature">private&nbsp;java.util.Map&lt;java.lang.Long,&#8203;java.util.ArrayList&lt;<a href="../common/ScheduleItem.html" title="class in common">ScheduleItem</a>&gt;&gt;&nbsp;updateStopsToScheduleItemsMap&#8203;(java.util.Map&lt;java.lang.Long,&#8203;java.util.ArrayList&lt;<a href="../common/ScheduleItem.html" title="class in common">ScheduleItem</a>&gt;&gt;&nbsp;stopsToScheduleItems,
                                                                                                            java.lang.String[]&nbsp;nextRecord,
                                                                                                            java.lang.String[]&nbsp;nextNextRecord,
                                                                                                            java.lang.String&nbsp;lineName)</pre>
<div class="block">Checks if nextRecord and nextNextRecord are on the same trip and if so then it creates a new schedule item
 for a stop from nextRecord to a stop from nextNextRecord. If any of the stopIds is a duplicate, it is replaced
 with an id of a fixed Station corresponding to the duplicate</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stopsToScheduleItems</code> - </dd>
<dd><code>nextRecord</code> - parsed from stops_times.csv</dd>
<dd><code>nextNextRecord</code> - parsed from stops_times.csv, proceeding nextRecord</dd>
<dd><code>lineName</code> - name of the Ubahn serving between nextRecord and nextNextRecord</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>stopsToScheduleItems with a new ScheduleItem for station in nextRecord directed to the station in nextNextRecord</dd>
</dl>
</li>
</ul>
<a id="getLineNameFromTripId(java.lang.String,java.util.Map,java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLineNameFromTripId</h4>
<pre class="methodSignature">private&nbsp;java.lang.String&nbsp;getLineNameFromTripId&#8203;(java.lang.String&nbsp;tripId,
                                               java.util.Map&lt;java.lang.String,&#8203;java.util.ArrayList&lt;java.lang.String&gt;&gt;&nbsp;routeIdsToTrips,
                                               java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;routesIdsToLineNames)</pre>
<div class="block">Returns a name of an U-bahn line that serves a given trip</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tripId</code> - </dd>
<dd><code>routeIdsToTrips</code> - Mapping of routeIds to TripIds</dd>
<dd><code>routesIdsToLineNames</code> - Mapping of routeIds to line names</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String U-bahn name corresponding to trip_id</dd>
</dl>
</li>
</ul>
<a id="getDuplicatesStopsFromCSV()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDuplicatesStopsFromCSV</h4>
<pre class="methodSignature">private&nbsp;java.util.Map&lt;<a href="../common/Station.html" title="class in common">Station</a>,&#8203;java.util.ArrayList&lt;java.lang.Long&gt;&gt;&nbsp;getDuplicatesStopsFromCSV()</pre>
<div class="block">Parses stops.csv and creates a mapping of Station - List<duplicateStationId> for stations with the same geo location.
 Stations with the same geo-location can be represented by multiple station instances in the stops.csv.
 For the mapping, it selects a single instance and maps it to a list of ids of all duplicate stations.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>mapping Station - List<Long: duplicateStationId></dd>
</dl>
</li>
</ul>
<a id="removeInvalidScheduleItems(java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeInvalidScheduleItems</h4>
<pre class="methodSignature">private&nbsp;java.util.Map&lt;java.lang.Long,&#8203;java.util.ArrayList&lt;<a href="../common/ScheduleItem.html" title="class in common">ScheduleItem</a>&gt;&gt;&nbsp;removeInvalidScheduleItems&#8203;(java.util.Map&lt;java.lang.Long,&#8203;java.util.ArrayList&lt;<a href="../common/ScheduleItem.html" title="class in common">ScheduleItem</a>&gt;&gt;&nbsp;stopsToScheduleItems)</pre>
<div class="block">Removes Schedule items that lead to non-adjacent stations (not directly preceeding and directly suceeding) a given station.
 Such items appear sporadically in the BVG schedule, we remove them to prevent errors in the Map/Graph which has
 only edges between adjacent stations.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stopsToScheduleItems</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>stopsToScheduleItemsWithoutInvalidItems</dd>
</dl>
</li>
</ul>
<a id="getListOfPossibleNextStops(java.lang.Long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getListOfPossibleNextStops</h4>
<pre class="methodSignature">private&nbsp;java.util.ArrayList&lt;java.lang.Long&gt;&nbsp;getListOfPossibleNextStops&#8203;(java.lang.Long&nbsp;stopId)</pre>
<div class="block">Returns a List<stopId> of stops adjacent (directly preceeding and suceeding) to stopId.
 Note that a stop can be a part of more than one Ubahn line.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stopId</code> - for which adjacent stops are looked for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List<Long:       stopId> adjacent to stopId</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
